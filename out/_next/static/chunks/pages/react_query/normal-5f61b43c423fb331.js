(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{7212:function(r,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/react_query/normal",function(){return t(5706)}])},5951:function(r,n,t){"use strict";t.d(n,{C:function(){return u}});var e=t(5893),u=function(r){var n=r.users;return(0,e.jsx)("ul",{children:n.map((function(r){return(0,e.jsx)("li",{children:r.name},r.id)}))})}},5706:function(r,n,t){"use strict";t.r(n);var e=t(4051),u=t.n(e),a=t(5893),i=t(8767),o=t(6874),s=t(5951),c=t(6445);function f(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function l(r,n,t,e,u,a,i){try{var o=r[a](i),s=o.value}catch(c){return void t(c)}o.done?n(s):Promise.resolve(s).then(e,u)}function d(r){return function(){var n=this,t=arguments;return new Promise((function(e,u){var a=r.apply(n,t);function i(r){l(a,e,u,i,o,"next",r)}function o(r){l(a,e,u,i,o,"throw",r)}i(void 0)}))}}function p(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"===typeof r)return f(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(){return o._8.listAll()},h=function(r){return o._8.create(r)},y=function(){var r=function(){var r=(0,i.useQueryClient)(),n=(0,i.useMutation)(h,{onSuccess:function(){var n=d(u().mark((function n(t){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.setQueryData("users",(function(r){return void 0===r?[t]:p(r).concat([t])}));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()}),t=(0,i.useQuery)(["users"],v),e=t.isError,a=t.data,o=function(){var r=d(u().mark((function r(t){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.mutateAsync(t);case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}();return e?{data:{status:"error"},createUser:o}:void 0===a?{data:{status:"processing"},createUser:o}:{data:{status:"success",value:a},createUser:o}}(),n=r.data,t=r.createUser,e=function(){var r=d(u().mark((function r(n){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t({name:n});case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}();return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"\u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0"}),(0,a.jsx)(c.m,{onSubmit:e}),(0,a.jsx)("h2",{children:"\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7"}),"error"===n.status?(0,a.jsx)("div",{children:"error"}):"processing"===n.status?(0,a.jsx)("div",{children:"loading"}):(0,a.jsx)(s.C,{users:n.value})]})};n.default=function(){return(0,a.jsx)(y,{})}}},function(r){r.O(0,[874,476,774,888,179],(function(){return n=7212,r(r.s=n);var n}));var n=r.O();_N_E=n}]);