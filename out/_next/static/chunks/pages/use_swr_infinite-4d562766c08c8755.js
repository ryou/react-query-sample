(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{7014:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/use_swr_infinite",function(){return e(7615)}])},5951:function(n,r,e){"use strict";e.d(r,{C:function(){return t}});var i=e(5893),t=function(n){var r=n.users;return(0,i.jsx)("ul",{children:r.map((function(n){return(0,i.jsx)("li",{children:n.name},n.id)}))})}},7615:function(n,r,e){"use strict";e.r(r),e.d(r,{useUserList:function(){return d}});var i=e(5893),t=e(5951),u=e(6874),s=e(3856),o=e(7294),a=function(n){return{resource:"users",page:n}},c=function(n){var r=n.page;return u._8.list({page:r})},d=function(){var n=(0,s.ZP)(a,c),r=n.data,e=n.error,i=n.size,t=n.setSize,u=n.mutate,d=(0,o.useMemo)((function(){return void 0===r?[]:r.reduce((function(n,r){return n.concat(r.users)}),[])}),[r]),l=!r&&!e,f=void 0!==r&&(0===r.length||void 0!==r[r.length-1].nextPage),h=l||i>0&&r&&"undefined"===typeof r[i-1],v=void 0!==e;return{users:d,loadMore:(0,o.useCallback)((function(){return t((function(n){return n+1}))}),[t]),hasMore:f,isLoadingInitialData:l,isLoadingMore:h,isError:v,refresh:(0,o.useCallback)((function(){return u()}),[u]),clear:(0,o.useCallback)((function(){return t(0)}),[t])}};r.default=function(){var n=d(),r=n.users,e=n.isError,u=n.hasMore,s=n.isLoadingInitialData,o=n.isLoadingMore,a=n.loadMore,c=n.clear,l=n.refresh;return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{children:[s?(0,i.jsx)("div",{children:"loading..."}):(0,i.jsxs)("div",{children:[(0,i.jsx)(t.C,{users:r}),u&&(0,i.jsx)("button",{onClick:a,disabled:o,children:"more"})]}),e&&(0,i.jsx)("div",{children:"error"}),(0,i.jsx)("button",{onClick:c,children:"clear"}),(0,i.jsx)("button",{onClick:l,children:"mutate"})]})})}}},function(n){n.O(0,[192,874,774,888,179],(function(){return r=7014,n(n.s=r);var r}));var r=n.O();_N_E=r}]);